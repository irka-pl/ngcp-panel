<!DOCTYPE HTML>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <title>Device Management</title>

        <meta name="description" content="">
        <meta name="author" content="">

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="stylesheet" href="/css/font-opensans.css">
        <link rel="stylesheet" href="/css/font-awesome.css">

        <link rel="stylesheet" href="/css/bootstrap/bootstrap.css">
        <link rel="stylesheet" href="/css/bootstrap/bootstrap-responsive.css">

        <link rel="stylesheet" href="/css/ui-lightness/jquery-ui-1.10.3.custom.min.css">
        <link rel="stylesheet" href="/css/application.css">
        <link rel="stylesheet" href="/css/pages/pricing.css">

        <script src="/js/libs/modernizr-2.5.3.min.js"></script>
        <script src="/js/libs/jquery-1.7.2.min.js"></script>
        <script src="/js/libs/jquery-ui-1.10.3.custom.min.js"></script>
        <script src="/js/libs/jquery.ui.touch-punch.min.js"></script>
        <script src="/js/libs/bootstrap/bootstrap.min.js"></script>
        <script src="/js/libs/jquery.dataTables.min.js"></script>
        <script src="/js/libs/bootstrap/datatables-paging.js"></script>

        <script type="text/javascript" src="/js/plugins/msgbox/jquery.msgbox.js"></script>
        <link rel="stylesheet" type="text/css" href="/js/plugins/msgbox/jquery.msgbox.css" />
        <link rel="stylesheet" type="text/css" href="/css/main.css" />

                        
    </head>
    <body>
<div id="wrapper">
    <div id="topbar">
        <div class="container">

            <a href="javascript:;" id="menu-trigger" class="dropdown-toggle" data-toggle="dropdown" data-target="#">
                <i class="icon-cog"></i>
            </a>

            <div id="top-nav">
                <ul class="pull-right">
                    <li>
                                                                        <i class="icon-user"></i> Logged in as administrator                    </li>
                    <li class="dropdown">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown">
						<i class="icon-globe"></i> Language
						<b class="caret"></b>
					</a>

					<ul class="dropdown-menu pull-right">
						<li><a href="?lang=en"><img src="/img/lang/en.png" class="ngcp-lang-flag"/> English</a></li>
						<li><a href="?lang=de"><img src="/img/lang/de.png" class="ngcp-lang-flag"/> German</a></li>
						<li><a href="?lang=it"><img src="/img/lang/it.png" class="ngcp-lang-flag"/> Italian</a></li>
						<li><a href="?lang=es"><img src="/img/lang/es.png" class="ngcp-lang-flag"/> Spanish</a></li>
						<li><a href="?lang=ru"><img src="/img/lang/ru.png" class="ngcp-lang-flag"/> Russian</a></li>
					</ul>
				</li>
                    <li><a href="https://192.168.56.7:1444/logout">Logout</a></li>
                </ul>
            </div> <!-- /#top-nav -->
        </div> <!-- /.container -->
    </div> <!-- /#topbar -->

    <div id="header">
        <div class="container">
            <a href="https://192.168.56.7:1444/dashboard" class="brand">Dashboard</a>
            <a href="javascript:;" class="btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <i class="icon-reorder"></i>
            </a>
            <div class="nav-collapse collapse">
                <ul id="main-nav" class="nav pull-right">

                    <li class="nav-icon">
                        <a href="https://192.168.56.7:1444/">
                            <i class="icon-home"></i>
                            <span>Home</span>
                        </a>
                    </li>
                                            <li class="dropdown">
    <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown">
        <i class="icon-signal"></i>
        <span>Monitoring &amp; Statistics</span>
        <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
        <li><a href="https://192.168.56.7:1444/statistics">System Statistics</a></li>
        <li><a href="https://192.168.56.7:1444/calls">Call Distribution</a></li>
                <li><a href="https://192.168.56.7:1444/callflow">SIP Call Flows</a></li>
            </ul>
</li>
<li class="dropdown">
    <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown">
        <i class="icon-th"></i>
        <span>Settings</span>
        <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
        <li><a href="https://192.168.56.7:1444/administrator">Administrators</a></li>
        <li><a href="https://192.168.56.7:1444/reseller">Resellers</a></li>
        <li><a href="https://192.168.56.7:1444/customer">Customers</a></li>
        <li><a href="https://192.168.56.7:1444/contract">Reseller and Peering Contracts</a></li>
        <li><a href="https://192.168.56.7:1444/contact">Contacts</a></li>
        <li><a href="https://192.168.56.7:1444/domain">Domains</a></li>
        <li><a href="https://192.168.56.7:1444/subscriber">Subscribers</a></li>
        <li><a href="https://192.168.56.7:1444/subscriberprofile">Subscriber Profiles</a></li>
        <li><a href="https://192.168.56.7:1444/billing">Billing</a></li>
        <li><a href="https://192.168.56.7:1444/invoicetemplate">Invoice Templates</a></li>
        <li><a href="https://192.168.56.7:1444/invoice">Invoices</a></li>
        <li><a href="https://192.168.56.7:1444/peering">Peerings</a></li>
        <li><a href="https://192.168.56.7:1444/rewrite">Rewrite Rule Sets</a></li>
        <li><a href="https://192.168.56.7:1444/ncos">NCOS Levels</a></li>
        <li><a href="https://192.168.56.7:1444/sound">Sound Sets</a></li>
        <li><a href="https://192.168.56.7:1444/emailtemplate">Email Templates</a></li>
        <li><a href="https://192.168.56.7:1444/security">Security Bans</a></li>
                <li><a href="https://192.168.56.7:1444/device">Device Management</a></li>
            </ul>
</li>
                                    </ul> <!-- /.dropdown-menu -->
            </div> <!-- /.nav-collapse -->
        </div> <!-- /.container -->
    </div> <!-- /#header -->
    <div id="masthead">
	    <div class="container">
		    <div class="masthead-pad">
			    <div class="masthead-text">
				    <h2>Device Management</h2>
			    </div>
		    </div>
	    </div>
    </div>
    <div id="content">
        <div class="container">
            
<div class="row" id="testrow">
    <span>
        <a class="btn btn-primary btn-large" href="https://192.168.56.7:1444/back"><i class="icon-arrow-left"></i> Back</a>
    </span>
</div>
<script>
      function xpathEx(doc, q, ref, type) {
      alert(ref);
        var xpr = document.evaluate(q, ref, null, type, null);
        var r = { resultType: xpr.resultType, resultSize: 0, result: null };
        switch(xpr.resultType) {
        case XPathResult.NUMBER_TYPE:
          r.result= r.numberValue = xpr.numberValue;
          r.resultSize= 1;
          break;
        case XPathResult.STRING_TYPE:
          r.result= r.stringValue = xpr.stringValue;
          r.resultSize= 1;
          break;
        case XPathResult.BOOLEAN_TYPE:
          r.result= r.booleanValue = xpr.booleanValue;
          r.resultSize= 1;
          break;
        case XPathResult.UNORDERED_NODE_ITERATOR_TYPE:
        case XPathResult.ORDERED_NODE_ITERATOR_TYPE:
          r.result= r.nodeSet = [];
          var n;
          while (n = xpr.iterateNext()) {
            alert('element='+n+';');
            r.nodeSet.push(n);
            r.resultSize++;
          }
          break;
        case XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE:
        case XPathResult.ORDERED_NODE_SNAPSHOT_TYPE:
          r.result= r.nodeSet = [];
          r.resultSize= xpr.snapshotLength;
          for (var i = 0 ; i < xpr.snapshotLength; i++ ) {
            alert('i='+i+'; element='+xpr.snapshotItem(i)+';');
            r.nodeSet[i] = xpr.snapshotItem(i);
          }
          break;
        case XPathResult.ANY_UNORDERED_NODE_TYPE:
        case XPathResult.FIRST_ORDERED_NODE_TYPE:
          r.result= r.singleNodeValue = xpr.singleNodeValue;
          r.resultSize= 1;
          break;
        default:
          break;
        }
        return r;
      }
</script>
<span>
        <!--a class="btn btn-primary btn-large" href="#" onclick="document.evaluate(
            '//a|//area|//frame|//iframe|//link',
            document.getElementById('testrow'),
            null,
            XPathResult.ANY_TYPE,
            null
        );"><i class="icon-arrow-left"></i> Back</a-->
        <a class="btn btn-primary btn-large" href="#" onclick="xpathEx(
            document,
            './/a|.//area|.//frame|.//iframe|.//link',
            document.getElementById('testrow'),
            XPathResult.ANY_TYPE);
        "><i class="icon-arrow-left"></i> Back</a>
</span>
<div class="row">
    </div>

<div class="ngcp-separator"></div>

<div class="accordion" id="device_details">

    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#device_details" href="#collapse_devmod">Device Models</a>
        </div>
        <div class="accordion-body collapse" id="collapse_devmod">
            <div class="accordion-inner">
                                <span>
                    <a class="btn btn-primary btn-large" href="https://192.168.56.7:1444/device/model/create"><i class="icon-star"></i> Create Device Model</a>
                </span>
                <div class="ngcp-separator"></div>
                
<script src="/js/libs/bootstrap/datatables-paging.js"></script>
<script src="/js/libs/jquery-ui-timepicker-addon.js"></script>
<script type="text/javascript">

$.extend( $.fn.dataTableExt.oStdClasses, {
                "sSortAsc": "header headerSortDown",
                "sSortDesc": "header headerSortUp",
                "sSortable": "header"
            } );

$(document).ready(function() {
    var date_search_rendered = 0;
	var device_model_table = $('#device_model_table')
	    .dataTable( {
        "sDom": "<'row-fluid ngcp_dt_top_elements'lf<r>>t<'row-fluid'<'pull-left'i><'pull-right'p>>",
        "bProcessing": true,
        "bServerSide": true,
        "bPaginate": true,
        "bFilter": true,
        "bStateSave": true,
            "fnStateSave": function (oSettings, oData) {
                localStorage.setItem(
                    'ngcp_dt_device_model_table',
                    JSON.stringify(oData)
                );
        },
        "fnStateLoad": function (oSettings) {
            return JSON.parse( localStorage.getItem('ngcp_dt_device_model_table') );
        },

        "sPaginationType": "bootstrap",
        
            "bLengthChange": true,
            "aLengthMenu": [5, 10, 25, 50],
        
        "bSort":  true ,
        "bInfo": true,
        "iDisplayLength": 5,
        'iShowPages': 5,
		"sAjaxSource": "https://192.168.56.7:1444/device/model/ajax",
        "fnServerParams": function ( aoData ) {
            var params = localStorage.getItem("ngcp_dt.device_model_table.paramsJSON");
            if(params){
                var paramsParsed = JSON.parse(params);
                for(var key in paramsParsed){
                    aoData.push( {"name":key,"value":paramsParsed[key]} );
                }
            }
        },
                "oLanguage": {
            "sUrl": "/js/i18n/dataTables.default.js"
        },
		"aoColumns": [
		    		    { 
                "mData": "id",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "reseller_name",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "vendor",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "model",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    {   "mRender": function ( data, type, full ) {
                    var html = '' +
                    '<div class="sw_actions pull-right">';
                    
                                                                                      
                        
                      
                                              html +=
                           '<a class="btn btn-small btn-tertiary" href="/device/model/'+full.id+'/frontimage?back=https%3A%2F%2F192.168.56.7%3A1444%2Fdevice"  >' +
                              '<i class="icon-picture"></i> Front Image' +
                            '</a>';
                            
                                                                                                            
                        
                      
                                              html +=
                           '<a class="btn btn-small btn-tertiary" href="/device/model/'+full.id+'/macimage?back=https%3A%2F%2F192.168.56.7%3A1444%2Fdevice"  >' +
                              '<i class="icon-picture"></i> MAC Image' +
                            '</a>';
                            
                                                                                                            
                        
                      
                                              html +=
                           '<a class="btn btn-small btn-secondary" href="/device/model/'+full.id+'/delete?back=https%3A%2F%2F192.168.56.7%3A1444%2Fdevice" data-confirm="Delete" >' +
                              '<i class="icon-trash"></i> Delete' +
                            '</a>';
                            
                                                                                                            
                        
                      
                                              html +=
                           '<a class="btn btn-small btn-primary" href="/device/model/'+full.id+'/edit?back=https%3A%2F%2F192.168.56.7%3A1444%2Fdevice"  >' +
                              '<i class="icon-edit"></i> Edit' +
                            '</a>';
                            
                                                              html += '</div>';
                    return html;
                },
                "mData": null,
                "bSortable": false,
                "sClass": "ngcp-actions-column"
            }
		],
		"fnDrawCallback": function( oSettings ) {
                $('.sw_actions').css('visibility','hidden');
                $('.sw_action_row').hover(
                    function() { $(this).find('.sw_actions').css('visibility','visible'); },
                    function() { $(this).find('.sw_actions').css('visibility','hidden'); }
                );
                if ($('.sw_actions').find("[rel=tooltip]").length) {
                    $('.sw_actions').find("[rel=tooltip]").tooltip();
                }

                if(date_search_rendered) return;
                date_search_rendered = 1;
                                                                                                                                                                                                                                                
        },
        "fnRowCallback": function(nRow, aData, iDisplayIndex) {
            nRow.className = "sw_action_row";
            return nRow;
        },
	} );

} );
</script>

<div class="row">
        </div>


<div class="ngcp-separator"></div>

<table class="table table-bordered table-striped table-highlight table-hover ngcp-datatable" id="device_model_table">
    <thead>
        <tr>
                        <th>#</th>
                        <th>Reseller</th>
                        <th>Vendor</th>
                        <th>Model</th>
                                    <th class="ngcp-actions-column"></th>
        </tr>
    </thead>
    <tbody>
        <tr class="sw_action_row">
            <td colspan="5">Loading...</td>
        </tr>
    </tbody>
</table>


            </div>
        </div>
    </div>

    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#device_details" href="#collapse_devfw">Device Firmwares</a>
        </div>
        <div class="accordion-body collapse" id="collapse_devfw">
            <div class="accordion-inner">
                                <span>
                    <a class="btn btn-primary btn-large" href="https://192.168.56.7:1444/device/firmware/create"><i class="icon-star"></i> Upload Device Firmware</a>
                </span>
                <div class="ngcp-separator"></div>
                
<script src="/js/libs/bootstrap/datatables-paging.js"></script>
<script src="/js/libs/jquery-ui-timepicker-addon.js"></script>
<script type="text/javascript">

$.extend( $.fn.dataTableExt.oStdClasses, {
                "sSortAsc": "header headerSortDown",
                "sSortDesc": "header headerSortUp",
                "sSortable": "header"
            } );

$(document).ready(function() {
    var date_search_rendered = 0;
	var device_firmware_table = $('#device_firmware_table')
	    .dataTable( {
        "sDom": "<'row-fluid ngcp_dt_top_elements'lf<r>>t<'row-fluid'<'pull-left'i><'pull-right'p>>",
        "bProcessing": true,
        "bServerSide": true,
        "bPaginate": true,
        "bFilter": true,
        "bStateSave": true,
            "fnStateSave": function (oSettings, oData) {
                localStorage.setItem(
                    'ngcp_dt_device_firmware_table',
                    JSON.stringify(oData)
                );
        },
        "fnStateLoad": function (oSettings) {
            return JSON.parse( localStorage.getItem('ngcp_dt_device_firmware_table') );
        },

        "sPaginationType": "bootstrap",
        
            "bLengthChange": true,
            "aLengthMenu": [5, 10, 25, 50],
        
        "bSort":  true ,
        "bInfo": true,
        "iDisplayLength": 5,
        'iShowPages': 5,
		"sAjaxSource": "https://192.168.56.7:1444/device/firmware/ajax",
        "fnServerParams": function ( aoData ) {
            var params = localStorage.getItem("ngcp_dt.device_firmware_table.paramsJSON");
            if(params){
                var paramsParsed = JSON.parse(params);
                for(var key in paramsParsed){
                    aoData.push( {"name":key,"value":paramsParsed[key]} );
                }
            }
        },
                "oLanguage": {
            "sUrl": "/js/i18n/dataTables.default.js"
        },
		"aoColumns": [
		    		    { 
                "mData": "id",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "device_reseller_name",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "device_vendor",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "device_model",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "filename",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "version",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    {   "mRender": function ( data, type, full ) {
                    var html = '' +
                    '<div class="sw_actions pull-right">';
                    
                                                                                      
                        
                      
                                              html +=
                           '<a class="btn btn-small btn-secondary" href="/device/firmware/'+full.id+'/delete?back=https%3A%2F%2F192.168.56.7%3A1444%2Fdevice" data-confirm="Delete" >' +
                              '<i class="icon-trash"></i> Delete' +
                            '</a>';
                            
                                                                                                            
                        
                      
                                              html +=
                           '<a class="btn btn-small btn-primary" href="/device/firmware/'+full.id+'/edit?back=https%3A%2F%2F192.168.56.7%3A1444%2Fdevice"  >' +
                              '<i class="icon-edit"></i> Edit' +
                            '</a>';
                            
                                                                                                            
                        
                      
                                              html +=
                           '<a class="btn btn-small btn-tertiary" href="/device/firmware/'+full.id+'/download?back=https%3A%2F%2F192.168.56.7%3A1444%2Fdevice"  >' +
                              '<i class="icon-download-alt"></i> Download' +
                            '</a>';
                            
                                                              html += '</div>';
                    return html;
                },
                "mData": null,
                "bSortable": false,
                "sClass": "ngcp-actions-column"
            }
		],
		"fnDrawCallback": function( oSettings ) {
                $('.sw_actions').css('visibility','hidden');
                $('.sw_action_row').hover(
                    function() { $(this).find('.sw_actions').css('visibility','visible'); },
                    function() { $(this).find('.sw_actions').css('visibility','hidden'); }
                );
                if ($('.sw_actions').find("[rel=tooltip]").length) {
                    $('.sw_actions').find("[rel=tooltip]").tooltip();
                }

                if(date_search_rendered) return;
                date_search_rendered = 1;
                                                                                                                                                                                                                                                                                                                                                        
        },
        "fnRowCallback": function(nRow, aData, iDisplayIndex) {
            nRow.className = "sw_action_row";
            return nRow;
        },
	} );

} );
</script>

<div class="row">
        </div>


<div class="ngcp-separator"></div>

<table class="table table-bordered table-striped table-highlight table-hover ngcp-datatable" id="device_firmware_table">
    <thead>
        <tr>
                        <th>#</th>
                        <th>Reseller</th>
                        <th>Device Vendor</th>
                        <th>Device Model</th>
                        <th>Firmware File</th>
                        <th>Version</th>
                                    <th class="ngcp-actions-column"></th>
        </tr>
    </thead>
    <tbody>
        <tr class="sw_action_row">
            <td colspan="7">Loading...</td>
        </tr>
    </tbody>
</table>


            </div>
        </div>
    </div>

    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#device_details" href="#collapse_devconf">Device Configurations</a>
        </div>
        <div class="accordion-body collapse" id="collapse_devconf">
            <div class="accordion-inner">
                                <span>
                    <a class="btn btn-primary btn-large" href="https://192.168.56.7:1444/device/config/create"><i class="icon-star"></i> Create Device Configuration</a>
                </span>
                <div class="ngcp-separator"></div>
                
<script src="/js/libs/bootstrap/datatables-paging.js"></script>
<script src="/js/libs/jquery-ui-timepicker-addon.js"></script>
<script type="text/javascript">

$.extend( $.fn.dataTableExt.oStdClasses, {
                "sSortAsc": "header headerSortDown",
                "sSortDesc": "header headerSortUp",
                "sSortable": "header"
            } );

$(document).ready(function() {
    var date_search_rendered = 0;
	var device_configuration_table = $('#device_configuration_table')
	    .dataTable( {
        "sDom": "<'row-fluid ngcp_dt_top_elements'lf<r>>t<'row-fluid'<'pull-left'i><'pull-right'p>>",
        "bProcessing": true,
        "bServerSide": true,
        "bPaginate": true,
        "bFilter": true,
        "bStateSave": true,
            "fnStateSave": function (oSettings, oData) {
                localStorage.setItem(
                    'ngcp_dt_device_configuration_table',
                    JSON.stringify(oData)
                );
        },
        "fnStateLoad": function (oSettings) {
            return JSON.parse( localStorage.getItem('ngcp_dt_device_configuration_table') );
        },

        "sPaginationType": "bootstrap",
        
            "bLengthChange": true,
            "aLengthMenu": [5, 10, 25, 50],
        
        "bSort":  true ,
        "bInfo": true,
        "iDisplayLength": 5,
        'iShowPages': 5,
		"sAjaxSource": "https://192.168.56.7:1444/device/config/ajax",
        "fnServerParams": function ( aoData ) {
            var params = localStorage.getItem("ngcp_dt.device_configuration_table.paramsJSON");
            if(params){
                var paramsParsed = JSON.parse(params);
                for(var key in paramsParsed){
                    aoData.push( {"name":key,"value":paramsParsed[key]} );
                }
            }
        },
                "oLanguage": {
            "sUrl": "/js/i18n/dataTables.default.js"
        },
		"aoColumns": [
		    		    { 
                "mData": "id",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "device_reseller_name",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "device_vendor",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "device_model",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "version",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    {   "mRender": function ( data, type, full ) {
                    var html = '' +
                    '<div class="sw_actions pull-right">';
                    
                                                                                      
                        
                      
                                              html +=
                           '<a class="btn btn-small btn-secondary" href="/device/config/'+full.id+'/delete?back=https%3A%2F%2F192.168.56.7%3A1444%2Fdevice" data-confirm="Delete" >' +
                              '<i class="icon-trash"></i> Delete' +
                            '</a>';
                            
                                                                                                            
                        
                      
                                              html +=
                           '<a class="btn btn-small btn-primary" href="/device/config/'+full.id+'/edit?back=https%3A%2F%2F192.168.56.7%3A1444%2Fdevice"  >' +
                              '<i class="icon-edit"></i> Edit' +
                            '</a>';
                            
                                                                                                            
                        
                      
                                              html +=
                           '<a class="btn btn-small btn-tertiary" href="/device/config/'+full.id+'/download?back=https%3A%2F%2F192.168.56.7%3A1444%2Fdevice"  >' +
                              '<i class="icon-download-alt"></i> Download' +
                            '</a>';
                            
                                                              html += '</div>';
                    return html;
                },
                "mData": null,
                "bSortable": false,
                "sClass": "ngcp-actions-column"
            }
		],
		"fnDrawCallback": function( oSettings ) {
                $('.sw_actions').css('visibility','hidden');
                $('.sw_action_row').hover(
                    function() { $(this).find('.sw_actions').css('visibility','visible'); },
                    function() { $(this).find('.sw_actions').css('visibility','hidden'); }
                );
                if ($('.sw_actions').find("[rel=tooltip]").length) {
                    $('.sw_actions').find("[rel=tooltip]").tooltip();
                }

                if(date_search_rendered) return;
                date_search_rendered = 1;
                                                                                                                                                                                                                                                                                                    
        },
        "fnRowCallback": function(nRow, aData, iDisplayIndex) {
            nRow.className = "sw_action_row";
            return nRow;
        },
	} );

} );
</script>

<div class="row">
        </div>


<div class="ngcp-separator"></div>

<table class="table table-bordered table-striped table-highlight table-hover ngcp-datatable" id="device_configuration_table">
    <thead>
        <tr>
                        <th>#</th>
                        <th>Reseller</th>
                        <th>Device Vendor</th>
                        <th>Device Model</th>
                        <th>Version</th>
                                    <th class="ngcp-actions-column"></th>
        </tr>
    </thead>
    <tbody>
        <tr class="sw_action_row">
            <td colspan="6">Loading...</td>
        </tr>
    </tbody>
</table>


            </div>
        </div>
    </div>

    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#device_details" href="#collapse_devprof">Device Profiles</a>
        </div>
        <div class="accordion-body collapse" id="collapse_devprof">
            <div class="accordion-inner">
                                <span>
                    <a class="btn btn-primary btn-large" href="https://192.168.56.7:1444/device/profile/create"><i class="icon-star"></i> Create Device Profile</a>
                </span>
                <div class="ngcp-separator"></div>
                
<script src="/js/libs/bootstrap/datatables-paging.js"></script>
<script src="/js/libs/jquery-ui-timepicker-addon.js"></script>
<script type="text/javascript">

$.extend( $.fn.dataTableExt.oStdClasses, {
                "sSortAsc": "header headerSortDown",
                "sSortDesc": "header headerSortUp",
                "sSortable": "header"
            } );

$(document).ready(function() {
    var date_search_rendered = 0;
	var device_profile_table = $('#device_profile_table')
	    .dataTable( {
        "sDom": "<'row-fluid ngcp_dt_top_elements'lf<r>>t<'row-fluid'<'pull-left'i><'pull-right'p>>",
        "bProcessing": true,
        "bServerSide": true,
        "bPaginate": true,
        "bFilter": true,
        "bStateSave": true,
            "fnStateSave": function (oSettings, oData) {
                localStorage.setItem(
                    'ngcp_dt_device_profile_table',
                    JSON.stringify(oData)
                );
        },
        "fnStateLoad": function (oSettings) {
            return JSON.parse( localStorage.getItem('ngcp_dt_device_profile_table') );
        },

        "sPaginationType": "bootstrap",
        
            "bLengthChange": true,
            "aLengthMenu": [5, 10, 25, 50],
        
        "bSort":  true ,
        "bInfo": true,
        "iDisplayLength": 5,
        'iShowPages': 5,
		"sAjaxSource": "https://192.168.56.7:1444/device/profile/ajax",
        "fnServerParams": function ( aoData ) {
            var params = localStorage.getItem("ngcp_dt.device_profile_table.paramsJSON");
            if(params){
                var paramsParsed = JSON.parse(params);
                for(var key in paramsParsed){
                    aoData.push( {"name":key,"value":paramsParsed[key]} );
                }
            }
        },
                "oLanguage": {
            "sUrl": "/js/i18n/dataTables.default.js"
        },
		"aoColumns": [
		    		    { 
                "mData": "id",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "config_device_reseller_name",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "name",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "config_device_vendor",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "config_device_model",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "config_version",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    {   "mRender": function ( data, type, full ) {
                    var html = '' +
                    '<div class="sw_actions pull-right">';
                    
                                                                                      
                        
                      
                                              html +=
                           '<a class="btn btn-small btn-secondary" href="/device/profile/'+full.id+'/delete?back=https%3A%2F%2F192.168.56.7%3A1444%2Fdevice" data-confirm="Delete" >' +
                              '<i class="icon-trash"></i> Delete' +
                            '</a>';
                            
                                                                                                            
                        
                      
                                              html +=
                           '<a class="btn btn-small btn-primary" href="/device/profile/'+full.id+'/edit?back=https%3A%2F%2F192.168.56.7%3A1444%2Fdevice"  >' +
                              '<i class="icon-edit"></i> Edit' +
                            '</a>';
                            
                                                              html += '</div>';
                    return html;
                },
                "mData": null,
                "bSortable": false,
                "sClass": "ngcp-actions-column"
            }
		],
		"fnDrawCallback": function( oSettings ) {
                $('.sw_actions').css('visibility','hidden');
                $('.sw_action_row').hover(
                    function() { $(this).find('.sw_actions').css('visibility','visible'); },
                    function() { $(this).find('.sw_actions').css('visibility','hidden'); }
                );
                if ($('.sw_actions').find("[rel=tooltip]").length) {
                    $('.sw_actions').find("[rel=tooltip]").tooltip();
                }

                if(date_search_rendered) return;
                date_search_rendered = 1;
                                                                                                                                                                                                                                                                                                                                                        
        },
        "fnRowCallback": function(nRow, aData, iDisplayIndex) {
            nRow.className = "sw_action_row";
            return nRow;
        },
	} );

} );
</script>

<div class="row">
        </div>


<div class="ngcp-separator"></div>

<table class="table table-bordered table-striped table-highlight table-hover ngcp-datatable" id="device_profile_table">
    <thead>
        <tr>
                        <th>#</th>
                        <th>Reseller</th>
                        <th>Name</th>
                        <th>Device Vendor</th>
                        <th>Device Model</th>
                        <th>Configuration Version</th>
                                    <th class="ngcp-actions-column"></th>
        </tr>
    </thead>
    <tbody>
        <tr class="sw_action_row">
            <td colspan="7">Loading...</td>
        </tr>
    </tbody>
</table>


            </div>
        </div>
    </div>

    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#device_details" href="#collapse_fielddev">Deployed Devices</a>
        </div>
        <div class="accordion-body collapse" id="collapse_fielddev">
            <div class="accordion-inner">

<script src="/js/libs/bootstrap/datatables-paging.js"></script>
<script src="/js/libs/jquery-ui-timepicker-addon.js"></script>
<script type="text/javascript">

$.extend( $.fn.dataTableExt.oStdClasses, {
                "sSortAsc": "header headerSortDown",
                "sSortDesc": "header headerSortUp",
                "sSortable": "header"
            } );

$(document).ready(function() {
    var date_search_rendered = 0;
	var field_device_table = $('#field_device_table')
	    .dataTable( {
        "sDom": "<'row-fluid ngcp_dt_top_elements'lf<r>>t<'row-fluid'<'pull-left'i><'pull-right'p>>",
        "bProcessing": true,
        "bServerSide": true,
        "bPaginate": true,
        "bFilter": true,
        "bStateSave": true,
            "fnStateSave": function (oSettings, oData) {
                localStorage.setItem(
                    'ngcp_dt_field_device_table',
                    JSON.stringify(oData)
                );
        },
        "fnStateLoad": function (oSettings) {
            return JSON.parse( localStorage.getItem('ngcp_dt_field_device_table') );
        },

        "sPaginationType": "bootstrap",
        
            "bLengthChange": true,
            "aLengthMenu": [5, 10, 25, 50],
        
        "bSort":  true ,
        "bInfo": true,
        "iDisplayLength": 5,
        'iShowPages': 5,
		"sAjaxSource": "https://192.168.56.7:1444/device/device/ajax",
        "fnServerParams": function ( aoData ) {
            var params = localStorage.getItem("ngcp_dt.field_device_table.paramsJSON");
            if(params){
                var paramsParsed = JSON.parse(params);
                for(var key in paramsParsed){
                    aoData.push( {"name":key,"value":paramsParsed[key]} );
                }
            }
        },
                "oLanguage": {
            "sUrl": "/js/i18n/dataTables.default.js"
        },
		"aoColumns": [
		    		    { 
                "mData": "id",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "identifier",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "profile_name",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "contract_id",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    { 
                "mData": "contract_contact_email",
                "mRender": function ( data, type, full ) {
                    if(data == null)
                        return '';
                    return String(data).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');//"
                }
            },
		    		    {   "mRender": function ( data, type, full ) {
                    var html = '' +
                    '<div class="sw_actions pull-right">';
                    
                                                                                      
                        
                      
                                              html +=
                           '<a class="btn btn-small btn-secondary" href="/customer/' + full.contract_id + '/pbx/device/'+full.id+'/delete?back=https%3A%2F%2F192.168.56.7%3A1444%2Fdevice" data-confirm="Delete" >' +
                              '<i class="icon-trash"></i> Delete' +
                            '</a>';
                            
                                                                                                            
                        
                      
                                              html +=
                           '<a class="btn btn-small btn-tertiary" href="/customer/' + full.contract_id + '/details?back=https%3A%2F%2F192.168.56.7%3A1444%2Fdevice"  >' +
                              '<i class="icon-user"></i> Customer' +
                            '</a>';
                            
                                                              html += '</div>';
                    return html;
                },
                "mData": null,
                "bSortable": false,
                "sClass": "ngcp-actions-column"
            }
		],
		"fnDrawCallback": function( oSettings ) {
                $('.sw_actions').css('visibility','hidden');
                $('.sw_action_row').hover(
                    function() { $(this).find('.sw_actions').css('visibility','visible'); },
                    function() { $(this).find('.sw_actions').css('visibility','hidden'); }
                );
                if ($('.sw_actions').find("[rel=tooltip]").length) {
                    $('.sw_actions').find("[rel=tooltip]").tooltip();
                }

                if(date_search_rendered) return;
                date_search_rendered = 1;
                                                                                                                                                                                                                                                                                                    
        },
        "fnRowCallback": function(nRow, aData, iDisplayIndex) {
            nRow.className = "sw_action_row";
            return nRow;
        },
	} );

} );
</script>

<div class="row">
        </div>


<div class="ngcp-separator"></div>

<table class="table table-bordered table-striped table-highlight table-hover ngcp-datatable" id="field_device_table">
    <thead>
        <tr>
                        <th>#</th>
                        <th>MAC Address / Identifier</th>
                        <th>Profile Name</th>
                        <th>Customer #</th>
                        <th>Customer Email</th>
                                    <th class="ngcp-actions-column"></th>
        </tr>
    </thead>
    <tbody>
        <tr class="sw_action_row">
            <td colspan="6">Loading...</td>
        </tr>
    </tbody>
</table>


            </div>
        </div>
    </div>



</div>

        </div>
    </div>
</div> <!-- /#wrapper -->

<div id="footer">
    <div class="container">
        <div class="row">
            <div class="span6">
                © 2013 <a href="http://www.sipwise.com">Sipwise GmbH</a>, all rights reserved.
            </div>
        </div>
    </div>
</div>

<script src="/js/Theme.js"></script>

<script>
Theme.init ();
var mainWrapperInit = function () {

    $('[rel="tooltip"]').tooltip({'html': false});

    $('.sw_actions').css('visibility','hidden');
    $('.sw_action_row').hover(
                    function() { $(this).find('.sw_actions').css('visibility','visible'); },
                    function() { $(this).find('.sw_actions').css('visibility','hidden'); }
    ); 

    $('a[data-confirm]').live("click", function(ev) {
        var href = $(this).attr('href');
        //var onclick = $(this).attr('onclick');
        if (!$('#dataConfirmModal').length) {
            $('body').append(
                '<div id="dataConfirmModal" class="modal" role="dialog" aria-labelledby="dataConfirmLabel" aria-hidden="true">'+
                '<div class="modal-header">'+
                  '<h3 id="dataConfirmLabel">Are you sure?</h3>'+
                '</div>'+
                '<div class="modal-footer">'+
                  '<button class="btn" data-dismiss="modal" aria-hidden="true" id="dataConfirmCancel">Cancel</button>'+
                  '<a class="btn btn-primary" id="dataConfirmOK">OK</a>'+
                '</div>'+
              '</div>'
            );
        } 
        $('#dataConfirmOK').attr('href', href);
        if( href.search(/^javascript:/i ) > -1 ){
            $('#dataConfirmOK').attr('onclick', href);
            $('#dataConfirmOK').attr('data-dismiss', 'modal');
        }
        $('#dataConfirmOK').text($(this).attr('data-confirm'));
        if($('#mod_edit').length) {
            if(!$(this).attr('cancel-hide')){
                $('#mod_edit').modal('hide');
                $('#dataConfirmCancel').live("click", function(ev) {
                    $('#mod_edit').modal('show');
                });
            }
        }
        $('#dataConfirmModal').modal({show:true});
        return false;
    });

        $('a').each(function() {
        var _text = $(this).text().trim();
        var href = $(this).attr('href');
        var javascriptLink = 0;
        if(href && ( href.search(/^javascript:/i) > -1 ) ){
            javascriptLink = 1;
        }
        if(_text == "Back" ||
           $(this).hasClass('ngcp-error-button') ||
           $(this).hasClass('accordion-toggle') ||
           $(this).hasClass('ngcp-noback-link') ||
           javascriptLink ||
           $(this).parents('#footer').length ||
           $(this).parents('#topbar').length)  {

            return true;
        }
        var _href = $(this).attr('href');
        var _back = 'back=https%3A%2F%2F192.168.56.7%3A1444%2Fdevice';
        if(_href == null || _href.match(/[&\?]back=/)) {
            // ignore 
        } else if(_href.match(/\?/)) {
            $(this).attr('href', _href + '&' + _back);
        } else {
            $(this).attr('href', _href + '?' + _back);
        }
        return true;
    });

    if($('.accordion-body').length) {
        if(!$('#toggle-accordions').length){
            $('#content').children('.container').prepend('<a href="#" id="toggle-accordions" class="btn btn-small btn-tertiary pull-right ngcp-accordion-closed"><i class="icon-resize-full"></i> Expand Groups</a>');
        }
        $('#toggle-accordions').click(function() {
            if($('#toggle-accordions').hasClass('ngcp-accordion-closed')) {
                $('#toggle-accordions').removeClass('ngcp-accordion-closed');
                $('#toggle-accordions').html('<i class="icon-resize-small"></i> Collapse Groups');
                $('.accordion-body').each(function() {
                    $(this).removeClass('collapse');
                    $(this).addClass('in');
                    $(this).attr('style', 'height:auto;');
                });
                $('.accordion-heading a.accordion-toggle').each(function() {
                    $(this).removeClass('collapsed');
                });
                $('.accordion-group').each(function() {
                    $(this).addClass('open');
                });
            } else {
                $('#toggle-accordions').addClass('ngcp-accordion-closed');
                $('#toggle-accordions').html('<i class="icon-resize-full"></i> Expand Groups');
                $('.accordion-body').each(function() {
                    $(this).removeClass('in');
                    $(this).addClass('collapse');
                    $(this).attr('style', 'height:0px;');
                });
                $('.accordion-heading a.accordion-toggle').each(function() {
                    $(this).addClass('collapsed');
                });
                $('.accordion-group').each(function() {
                    $(this).removeClass('open');
                });
            }
        });
    }
};
$( document ).ready(function() {
    Theme.init();
    mainWrapperInit();
        $('.accordion').on('shown', function (e) {
        localStorage.setItem('lastTab', $(".accordion .in").attr('id'));
    });
    var lastTab = localStorage.getItem('lastTab');
    if (lastTab) {
        $('#'+lastTab).removeClass('collapse');
        $('#'+lastTab).parent().addClass("open");
/*
        $('#'+lastTab).addClass("in");
        $('#'+lastTab).attr('style', 'height:auto;');
*/
    }
});
//$(function(){Theme.init();mainWrapperInit();});
</script>
</body>

</html>
